import*as e from"@wordpress/interactivity";var t={d:(e,a)=>{for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const a=(n={getElement:()=>e.getElement,store:()=>e.store},o={},t.d(o,n),o),r="wpengine-smart-search-facets__store",s="__wpengine-smart-search_FacetsStoreInstance__";var n,o,c;function i(){return globalThis[s]}i()||(c=(0,a.store)(r,{state:{filters:[],get allFilters(){return JSON.stringify(i().state.filters)}},actions:{updateFilter(e){let{filterName:t,value:a}=e;i().state.filters[t]=a},setSearchValue(){const{ref:e}=(0,a.getElement)(),{value:t}=e;i().state.searchValue=t},*performSearch(e){e.preventDefault();const t={...i().state.filters,s:i().state.searchValue};yield(async e=>{const t=`${window.location.origin}/`,a=new URL(t);Object.keys(e).forEach((t=>{void 0!==e[t]&&null!==e[t]&&a.searchParams.set(t,e[t])})),window.location.assign(a.toString())})(t)}}}),globalThis[s]=c),i();const{actions:l,state:f}=(0,a.store)(r,{state:{searchValue:""},actions:{initSearchFacet:function(){const e=function(){const e={};return new URLSearchParams(window.location.search).forEach(((t,a)=>{e[a]=t})),e}();f.searchValue="";for(const t in e)if(e[t]){const a=e[t];"s"===t&&(f.searchValue=a),l.updateFilter({filterName:t,value:a})}}}});l.initSearchFacet();