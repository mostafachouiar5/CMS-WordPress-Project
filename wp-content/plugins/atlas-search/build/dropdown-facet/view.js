import*as e from"@wordpress/interactivity";var t={d:(e,a)=>{for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const a=(o={getElement:()=>e.getElement,store:()=>e.store},s={},t.d(s,o),s),r="wpengine-smart-search-facets__store",n="__wpengine-smart-search_FacetsStoreInstance__";var o,s,i;function l(){return globalThis[n]}l()||(i=(0,a.store)(r,{state:{filters:[],get allFilters(){return JSON.stringify(l().state.filters)}},actions:{updateFilter(e){let{filterName:t,value:a}=e;l().state.filters[t]=a},setSearchValue(){const{ref:e}=(0,a.getElement)(),{value:t}=e;l().state.searchValue=t},*performSearch(e){e.preventDefault();const t={...l().state.filters,s:l().state.searchValue};yield(async e=>{const t=`${window.location.origin}/`,a=new URL(t);Object.keys(e).forEach((t=>{void 0!==e[t]&&null!==e[t]&&a.searchParams.set(t,e[t])})),window.location.assign(a.toString())})(t)}}}),globalThis[n]=i),l();const{actions:c,state:u}=(0,a.store)(r,{state:{dropdownValue:""},actions:{initDropdownFacet:function(){const e=function(){const e={};return new URLSearchParams(window.location.search).forEach(((t,a)=>{e[a]=t})),e}();for(const t in e)if(e[t]){const a=e[t];if("category_name"===t){const e=u.allDropdownValues.find((e=>e.slug===a));e&&(u.dropdownValue=e.slug)}}},setDropdownValue:function(e){e.preventDefault();const{value:t,name:a}=e.target;u.dropdownValue=t,c.updateFilter({filterName:a,value:t})}}});c.initDropdownFacet();